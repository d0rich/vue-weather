(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"992c26dd"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-weather/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"012e":function(t,e,n){},"0243":function(t,e,n){"use strict";n("3c9a")},"1a78":function(t,e,n){t.exports=n.p+"img/CloudyWithMoon.fe512577.svg"},"1a8a":function(t,e,n){t.exports=n.p+"img/Cold.cfa2aa2c.svg"},"1bc1":function(t,e,n){},"2c48":function(t,e,n){t.exports=n.p+"img/VeryCloudy.5422d45c.svg"},"2db9":function(t,e,n){"use strict";n("1bc1")},"3a8c":function(t,e,n){t.exports=n.p+"img/Snow.36f5f8cc.svg"},"3a8e":function(t,e,n){t.exports=n.p+"img/Hot.1dec682a.svg"},"3b9f":function(t,e,n){"use strict";n("4271")},"3c1a":function(t,e,n){"use strict";n("012e")},"3c3f":function(t,e,n){},"3c9a":function(t,e,n){},4271:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("96cf");var a=n("1da1"),r=n("5530"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Modal"),n("Header"),n("v-main",[n("router-view")],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticStyle:{"z-index":"1000"},attrs:{app:"",color:"primary",dark:""}},[t.sideBar?n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),n("div",{staticClass:"d-flex align-center"},[n("v-btn",{attrs:{text:"",to:{name:"City",params:{id:0}}}},[n("v-icon",[t._v("mdi-weather-windy-variant")]),n("span",[t._v("Погода")])],1),t.sideBar?t._e():n("v-btn",{attrs:{text:"",to:{name:"10Days"}}},[n("v-icon",[t._v("mdi-format-list-bulleted")]),n("span",[t._v("Прогноз на 10 дней")])],1),t.sideBar?t._e():n("v-btn",{attrs:{text:"",to:{name:"Month"}}},[n("v-icon",[t._v("mdi-calendar")]),n("span",[t._v("Прогноз на месяц")])],1),t.sideBar?t._e():n("v-btn",{attrs:{text:"",to:{name:"Region"}}},[n("v-icon",[t._v("mdi-map-search-outline")]),n("span",[t._v("Мой регион")])],1),t.sideBar?t._e():n("v-btn",{attrs:{text:"",to:{name:"Favorites"}}},[n("v-icon",[t._v("mdi-star")]),n("span",[t._v("Избранное")])],1)],1)],1),t.sideBar?n("v-navigation-drawer",{staticClass:"pt-16",attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{attrs:{to:{name:"10Days"}}},[n("v-list-item-title",[n("v-icon",[t._v("mdi-format-list-bulleted")]),n("span",[t._v("Прогноз на 10 дней")])],1)],1),n("v-list-item",{attrs:{to:{name:"Month"}}},[n("v-list-item-title",[n("v-icon",[t._v("mdi-calendar")]),n("span",[t._v("Прогноз на месяц")])],1)],1),n("v-list-item",{attrs:{to:{name:"Region"}}},[n("v-list-item-title",[n("v-icon",[t._v("mdi-map-search-outline")]),n("span",[t._v("Мой регион")])],1)],1),n("v-list-item",{attrs:{to:{name:"Favorites"}}},[n("v-list-item-title",[n("v-icon",[t._v("mdi-star")]),n("span",[t._v("Избранное")])],1)],1)],1)],1):t._e()],1)},u=[],l={name:"Header",data:function(){return{drawer:!1,sideBar:!1}},methods:{onResize:function(){this.sideBar=window.innerWidth<1e3}}},d=l,p=n("2877"),h=n("6544"),v=n.n(h),m=n("40dc"),f=n("5bc1"),g=n("8336"),y=n("132d"),w=n("8860"),b=n("da13"),x=n("5d23"),k=n("f774"),_=n("269a"),C=n.n(_),O=n("dc22"),j=Object(p["a"])(d,c,u,!1,null,"bf707198",null),R=j.exports;v()(j,{VAppBar:m["a"],VAppBarNavIcon:f["a"],VBtn:g["a"],VIcon:y["a"],VList:w["a"],VListItem:b["a"],VListItemTitle:x["c"],VNavigationDrawer:k["a"]}),C()(j,{Resize:O["a"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},on:{"click:outside":t.closeModal},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Успешно")]),n("v-card-text",[n("div",{staticClass:"pt-3"},[t._v(t._s(t.modal.text))])]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:"",color:"red"},on:{click:t.closeModal}},[t._v("Закрыть")])],1)],1)]],2)},B=[],L=n("2f62"),S={name:"Modal",computed:Object(r["a"])({},Object(L["d"])(["modal"])),methods:Object(r["a"])({},Object(L["c"])(["closeModal"]))},W=S,I=n("b0af"),V=n("99d9"),N=n("169a"),M=n("71d9"),P=Object(p["a"])(W,D,B,!1,null,"40d77124",null),T=P.exports;v()(P,{VBtn:g["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["c"],VDialog:N["a"],VToolbar:M["a"]});n("99af"),n("4160"),n("159b");var F=n("d4ec"),H=n("bee2"),A=n("ade3"),E=n("bc3a"),$=n.n(E),K=function(){function t(){Object(F["a"])(this,t),Object(A["a"])(this,"appid","4348eb5b375eced3edae61fb223cd51f")}return Object(H["a"])(t,[{key:"locationByZip",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(e,",ru&appid=").concat(this.appid,"&units=metric"));case 2:return n=t.sent,t.abrupt("return",new gt({latitude:n.data.coord.lat,longitude:n.data.coord.lon}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"currentWeatherByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:new gt,t.next=3,$.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&appid=").concat(this.appid,"&units=metric"));case 3:return n=t.sent,t.abrupt("return",new mt(n.data));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"currentWeatherByZip",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(e,",ru&appid=").concat(this.appid,"&units=metric"));case 2:return n=t.sent,t.abrupt("return",new mt(n.data));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"weekWeatherByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:new gt,n="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&exclude=minutely,current,hourly,alerts&appid=").concat(this.appid,"&units=metric"),t.next=4,$.a.get(n);case 4:return a=t.sent,r=[],a.data.daily.forEach((function(t){r.push(new ft(t))})),i=a.data.daily[0],i.dt-=86400,r.unshift(new ft(i)),i=a.data.daily[7],i.dt+=86400,r.push(new ft(i)),t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"monthWeatherByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:new gt,n="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&exclude=minutely,current,hourly,alerts&appid=").concat(this.appid,"&units=metric"),t.next=4,$.a.get(n);case 4:for(a=t.sent,r=[],a.data.daily.forEach((function(t){r.push(new ft(t))})),i=a.data.daily[7],o=0;o<23;o++)i.dt+=86400,r.push(new ft(i));return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"sunDayByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:new gt,t.next=3,$.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&appid=").concat(this.appid,"&units=metric"));case 3:return n=t.sent,t.abrupt("return",new xt(n.data));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"sunDayByZip",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(e,",ru&appid=").concat(this.appid,"&units=metric"));case 2:return n=t.sent,t.abrupt("return",new xt(n.data));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),z=(n("d81d"),n("b0c0"),function(){function t(){Object(F["a"])(this,t),Object(A["a"])(this,"apiKey","QcCPBQrO82z8m2QIuMfaUMLz7OamwVs8"),Object(A["a"])(this,"apiHost","https://geohelper-proxy.onrender.com")}return Object(H["a"])(t,[{key:"getRegionById",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(this.apiHost,"/api/v1/regions?apiKey=").concat(this.apiKey),n+="&locale[lang]=ru",n+="&filter[id]=".concat(e),t.next=5,$.a.get(n);case 5:return a=t.sent,r=a.data.result[0],t.abrupt("return",new yt(r.id,r.name));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getRegions",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.apiHost,"/api/v1/regions?apiKey=").concat(this.apiKey),e+="&locale[lang]=ru",e+="&filter[countryIso]=ru",e+="&pagination[page]=1",e+="&pagination[limit]=100",e+="&order[by]=name",e+="&order[dir]=asc",t.next=9,$.a.get(e);case 9:return n=t.sent,a=[],n.data.result.forEach((function(t){a.push(new yt(t.id,t.name))})),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCityById",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),n+="&locale[lang]=ru",n+="&filter[id]=".concat(e),t.next=5,$.a.get(n);case 5:return a=t.sent,r=a.data.result[0],i=new G(r.id,r.name,null,null===r||void 0===r?void 0:r.postCode,null===r||void 0===r?void 0:r.population),i.region=new yt,i.region.id=r.regionId,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCityByName",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,o,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),r+="&locale[lang]=ru",r+="&filter[name]=".concat(e),r+="&filter[nameStrictLanguage]=ru",r+="&order[by]=population",r+="&order[dir]=desc",t.next=8,$.a.get(r);case 8:if(i=t.sent,o=i.data.result[0],o){t.next=21;break}return s="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),s+="&locale[lang]=ru",s+="&filter[name]=Москва",s+="&filter[nameStrictLanguage]=ru",s+="&order[by]=population",s+="&order[dir]=desc",t.next=19,$.a.get(s);case 19:c=t.sent,o=c.data.result[0];case 21:return u=new G(o.id,o.name,null,null===(n=o)||void 0===n?void 0:n.postCode,null===(a=o)||void 0===a?void 0:a.population),u.region=new yt,u.region.id=o.regionId,t.abrupt("return",u);case 25:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCitiesOfRegion",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,o,s,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:20,r=u.length>3&&void 0!==u[3]?u[3]:"name",i=u.length>4&&void 0!==u[4]?u[4]:"asc",o="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),o+="&locale[lang]=ru",o+="&filter[regionId]=".concat(e),o+="&pagination[page]=".concat(n),o+="&pagination[limit]=".concat(a),o+="&order[by]=".concat(r),o+="&order[dir]=".concat(i),t.next=13,$.a.get(o);case 13:return s=t.sent,c=[],s.data.result.forEach((function(t){var e=new G(t.id,t.name,null,null===t||void 0===t?void 0:t.postCode,null===t||void 0===t?void 0:t.population);c.push(e)})),t.abrupt("return",{cities:c,pages:s.data.pagination.totalPageCount});case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTopCities",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),n+="&locale[lang]=ru",n+="&filter[countryIso]=".concat(e),n+="&order[by]=population",n+="&order[dir]=desc",t.next=7,$.a.get(n);case 7:if(a=t.sent,r=a.data.result.map((function(t){return new G(t.id,t.name,null,null===t||void 0===t?void 0:t.postCode,null===t||void 0===t?void 0:t.population)})),r.length){t.next=19;break}return i="".concat(this.apiHost,"/api/v1/cities?apiKey=").concat(this.apiKey),i+="&locale[lang]=ru",i+="&filter[countryIso]=RU",i+="&order[by]=population",i+="&order[dir]=desc",t.next=17,$.a.get(i);case 17:o=t.sent,r=o.data.result.map((function(t){return new G(t.id,t.name,null,null===t||void 0===t?void 0:t.postCode,null===t||void 0===t?void 0:t.population)}));case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()),U=(n("a9e3"),n("ac1f"),n("1276"),function(){function t(){Object(F["a"])(this,t),Object(A["a"])(this,"apikey","b4477b5f-95fc-42dd-b494-a27835ddbf8d")}return Object(H["a"])(t,[{key:"getCountryCodeByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o,s,c,u,l,d,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=p.length>0&&void 0!==p[0]?p[0]:new gt,l="https://geocode-maps.yandex.ru/1.x/?geocode=".concat(u.longitude,",").concat(u.latitude),l+="&apikey=".concat(this.apikey),l+="&kind=locality&format=json&results=1",t.next=6,$.a.get(l);case 6:return d=t.sent,t.abrupt("return",null===(e=d.data)||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.GeoObjectCollection)||void 0===a||null===(r=a.featureMember[0])||void 0===r||null===(i=r.GeoObject)||void 0===i||null===(o=i.metaDataProperty)||void 0===o||null===(s=o.GeocoderMetaData)||void 0===s||null===(c=s.Address)||void 0===c?void 0:c.country_code);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCityByCoords",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o,s,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=u.length>0&&void 0!==u[0]?u[0]:new gt,s="https://geocode-maps.yandex.ru/1.x/?geocode=".concat(o.longitude,",").concat(o.latitude),s+="&apikey=".concat(this.apikey),s+="&kind=locality&format=json&results=1",t.next=6,$.a.get(s);case 6:return c=t.sent,t.abrupt("return",null===(e=c.data)||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.GeoObjectCollection)||void 0===a||null===(r=a.featureMember[0])||void 0===r||null===(i=r.GeoObject)||void 0===i?void 0:i.name);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getLocationByName",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,o,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="https://geocode-maps.yandex.ru/1.x/?geocode=".concat(e),s+="&apikey=".concat(this.apikey),s+="&kind=locality&format=json&results=1",t.next=5,$.a.get(s);case 5:return c=t.sent,u=null===(n=c.data)||void 0===n||null===(a=n.response)||void 0===a||null===(r=a.GeoObjectCollection)||void 0===r||null===(i=r.featureMember[0])||void 0===i||null===(o=i.GeoObject)||void 0===o?void 0:o.Point.pos.split(" "),t.abrupt("return",new gt({latitude:Number(u[1]),longitude:Number(u[0])}));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()),J=function(){function t(){Object(F["a"])(this,t)}return Object(H["a"])(t,[{key:"getCoordsByIp",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("https://ipapi.co/json/");case 2:return e=t.sent,t.abrupt("return",new gt(e.data));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),G=(n("7db0"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;Object(F["a"])(this,t),Object(A["a"])(this,"region",new yt),Object(A["a"])(this,"geocode",new U),Object(A["a"])(this,"onCurrentWeatherLoad",!0),Object(A["a"])(this,"onSunDayLoad",!0),Object(A["a"])(this,"onWeekWeatherLoad",!0),Object(A["a"])(this,"onMonthWeatherLoad",!0),Object(A["a"])(this,"weatherApi",new K),this.id=e,this.name=n,this.checkFavorite(),this.population=i||Math.round(100*Math.random()),this.postalCode=r,a?this.location=a:this.postalCode&&this.getLocationByPostalCode(),this.region=void 0,this.currentWeather=void 0}return Object(H["a"])(t,[{key:"populationString",get:function(){return this.population>1e6?"".concat(Math.round(this.population/1e5)/10," млн."):this.population>1e3?"".concat(Math.round(this.population/100)/10," тыс."):this.population}}]),Object(H["a"])(t,[{key:"checkFavorite",value:function(){var t=this,e=JSON.parse(localStorage.getItem("favorites"))||[],n=e.find((function(e){return e.id===t.id}));n?(this.favorite=!0,this.favoriteDate=new Date(n.date)):(this.favorite=!1,this.favoriteDate=void 0)}},{key:"getLocationByName",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.geocode.getLocationByName(this.name);case 2:this.location=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getLocationByPostalCode",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.weatherApi.locationByZip(this.postalCode);case 2:this.location=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCurrentWeather",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.location&&!this.postalCode){t.next=14;break}if(this.onCurrentWeatherLoad=!0,!this.postalCode){t.next=8;break}return t.next=5,this.weatherApi.currentWeatherByZip(this.postalCode);case 5:this.currentWeather=t.sent,t.next=11;break;case 8:return t.next=10,this.weatherApi.currentWeatherByCoords(this.location);case 10:this.currentWeather=t.sent;case 11:this.onCurrentWeatherLoad=!1,t.next=23;break;case 14:if(!this.postalCode){t.next=19;break}return t.next=17,this.getLocationByPostalCode();case 17:t.next=21;break;case 19:return t.next=21,this.getLocationByName();case 21:return t.next=23,this.getCurrentWeather();case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getSunDay",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.location&&!this.postalCode){t.next=14;break}if(this.onSunDayLoad=!0,!this.postalCode){t.next=8;break}return t.next=5,this.weatherApi.sunDayByZip(this.postalCode);case 5:this.sunDay=t.sent,t.next=11;break;case 8:return t.next=10,this.weatherApi.sunDayByCoords(this.location);case 10:this.sunDay=t.sent;case 11:this.onSunDayLoad=!1,t.next=23;break;case 14:if(!this.postalCode){t.next=19;break}return t.next=17,this.getLocationByPostalCode();case 17:t.next=21;break;case 19:return t.next=21,this.getLocationByName();case 21:return t.next=23,this.getSunDay();case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getWeekWeather",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.location){t.next=8;break}return this.onWeekWeatherLoad=!0,t.next=4,this.weatherApi.weekWeatherByCoords(this.location);case 4:this.weekWeather=t.sent,this.onWeekWeatherLoad=!1,t.next=17;break;case 8:if(!this.postalCode){t.next=13;break}return t.next=11,this.getLocationByPostalCode();case 11:t.next=15;break;case 13:return t.next=15,this.getLocationByName();case 15:return t.next=17,this.getWeekWeather();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getMonthWeather",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.location){t.next=8;break}return this.onMonthWeatherLoad=!0,t.next=4,this.weatherApi.monthWeatherByCoords(this.location);case 4:this.monthWeather=t.sent,this.onMonthWeatherLoad=!1,t.next=17;break;case 8:if(!this.postalCode){t.next=13;break}return t.next=11,this.getLocationByPostalCode();case 11:t.next=15;break;case 13:return t.next=15,this.getLocationByName();case 15:return t.next=17,this.getMonthWeather();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}()),Z=n("9266"),Q=n.n(Z),q=n("1a78"),X=n.n(q),Y=n("a94e"),tt=n.n(Y),et=n("1a8a"),nt=n.n(et),at=n("3a8e"),rt=n.n(at),it=n("ee72"),ot=n.n(it),st=n("3a8c"),ct=n.n(st),ut=n("b68e"),lt=n.n(ut),dt=n("2c48"),pt=n.n(dt),ht=n("b2ca"),vt=n.n(ht),mt=function(){function t(e){Object(F["a"])(this,t),Object(A["a"])(this,"temp",0),Object(A["a"])(this,"feelsLike",0),Object(A["a"])(this,"windSpeed",0),Object(A["a"])(this,"windDeg",0),Object(A["a"])(this,"cloudiness",0),Object(A["a"])(this,"pressure",0),Object(A["a"])(this,"humidity",0),this.temp=Math.round(e.main.temp),this.feelsLike=Math.round(e.main.feels_like),this.windSpeed=e.wind.speed,this.windDeg=e.wind.deg,this.cloudiness=e.clouds.all,this.pressure=Math.round(.750063755419211*e.main.pressure),this.humidity=e.main.humidity,this.date=new Date(1e3*e.dt)}return Object(H["a"])(t,[{key:"windDir",get:function(){return this.windDeg<22.5||this.windDeg>337.5?"С":this.windDeg<67.5?"СВ":this.windDeg<112.5?"В":this.windDeg<157.5?"ЮВ":this.windDeg<202.5?"Ю":this.windDeg<247.5?"ЮЗ":this.windDeg<292.5?"З":"СЗ"}},{key:"cloudIcon",get:function(){return this.date.getHours()>20||this.date.getHours()<10?this.cloudiness<25?ot.a:this.cloudiness<50?X.a:this.cloudiness<75?Q.a:pt.a:this.cloudiness<25?lt.a:this.cloudiness<50?tt.a:this.cloudiness<75?Q.a:pt.a}},{key:"tempIcon",get:function(){return this.temp<-25?nt.a:this.temp>30?rt.a:null}},{key:"humidityIcon",get:function(){if(this.temp<-5){if(this.humidity>=80)return ct.a}else if(this.humidity>=80)return vt.a;return null}}]),t}(),ft=function(){function t(e){Object(F["a"])(this,t),Object(A["a"])(this,"dayName",""),Object(A["a"])(this,"temp",0),Object(A["a"])(this,"feelsLike",0),Object(A["a"])(this,"cloudiness",0),this.temp=Math.round(e.temp.day),this.feelsLike=Math.round(e.feels_like.day),this.cloudiness=e.clouds,this.date=new Date(1e3*e.dt);var n=["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"],a=(new Date).setHours(0,0,0,0),r=(new Date).setHours(23,59,59,999),i=(new Date).setHours(-24,0,0,0),o=(new Date).setHours(-1,59,59,999),s=(new Date).setHours(24,0,0,0),c=(new Date).setHours(47,59,59,999);Number(this.date)>=i&&Number(this.date)<=o?this.dayName="Вчера":Number(this.date)>=a&&Number(this.date)<=r?this.dayName="Сегодня":Number(this.date)>=s&&Number(this.date)<=c?this.dayName="Завтра":this.dayName=n[this.date.getDay()]}return Object(H["a"])(t,[{key:"cloudIcon",get:function(){return this.cloudiness<25?lt.a:this.cloudiness<50?tt.a:this.cloudiness<75?Q.a:pt.a}},{key:"tempIcon",get:function(){return this.temp<-25?nt.a:this.temp>30?rt.a:null}}]),t}(),gt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:0,longitude:0};Object(F["a"])(this,t),Object(A["a"])(this,"latitude",0),Object(A["a"])(this,"longitude",0),this.latitude=e.latitude,this.longitude=e.longitude}return Object(H["a"])(t,[{key:"getDistance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t,n={x:this.latitude-e.latitude,y:this.longitude-e.longitude};return Math.sqrt(n.x*n.x+n.y*n.y)}}]),t}(),yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(F["a"])(this,t),Object(A["a"])(this,"cities",[]),Object(A["a"])(this,"citiesPages",1),Object(A["a"])(this,"geoApi",new z),Object(A["a"])(this,"onCitiesLoad",!0),this.id=e,this.name=n,this.cities=[]}return Object(H["a"])(t,[{key:"getCities",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o,s=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:20,a=c.length>2&&void 0!==c[2]?c[2]:"name",r=c.length>3&&void 0!==c[3]?c[3]:"asc",this.onCitiesLoad=!0,this.cities=[],t.next=8,this.geoApi.getCitiesOfRegion(this.id,e,n,a,r);case 8:i=t.sent,o=i.cities,this.citiesPages=i.pages,o.forEach((function(t){t.region=s,s.cities.push(t)})),this.onCitiesLoad=!1;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),wt=n("ebdf"),bt=n.n(wt),xt=function(){function t(e){Object(F["a"])(this,t),this.sunrise=new Date(1e3*e.sys.sunrise),this.sunset=new Date(1e3*e.sys.sunset)}return Object(H["a"])(t,[{key:"long",get:function(){var t=this.sunset-this.sunrise;return"".concat(Math.floor(t/1e3/60/60),"ч ").concat(new Date(t).getMinutes(),"м")}},{key:"sunriseTime",get:function(){return"".concat(this.sunrise.getHours()<10?0:"").concat(this.sunrise.getHours()," : ").concat(this.sunrise.getMinutes()<10?0:"").concat(this.sunrise.getMinutes())}},{key:"sunsetTime",get:function(){return"".concat(this.sunset.getHours()<10?0:"").concat(this.sunset.getHours()," : ").concat(this.sunset.getMinutes()<10?0:"").concat(this.sunset.getMinutes())}},{key:"picture",get:function(){return bt.a}}]),t}(),kt={name:"App",components:{Header:R,Modal:T},data:function(){return{}},methods:Object(r["a"])({},Object(L["b"])(["setTimeInterval","loadStartData","getRegions"])),mounted:function(){var t=this;this.setTimeInterval(),navigator.geolocation.getCurrentPosition(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadStartData(new gt(n.coords));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(new J).getCoordsByIp();case 2:n=e.sent,t.loadStartData(n);case 4:case"end":return e.stop()}}),e)}))),void 0),this.getFavorites(),this.getRegions()}},_t=kt,Ct=n("7496"),Ot=n("f6c4"),jt=Object(p["a"])(_t,o,s,!1,null,null,null),Rt=jt.exports;v()(jt,{VApp:Ct["a"],VMain:Ot["a"]});var Dt=n("8c4f"),Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-skeleton-loader",{staticClass:"mx-3",attrs:{type:"card",loading:!t.cityNow||t.cityNow.onCurrentWeatherLoad,width:"300"}},[n("WeatherNow",{attrs:{"city-now":t.cityNow,weather:t.cityNow.currentWeather}})],1),n("v-skeleton-loader",{staticClass:"mx-3",attrs:{type:"card",loading:!t.cityNow||t.cityNow.onSunDayLoad,width:"200"}},[n("SunDay",{attrs:{sunday:t.cityNow.sunDay}})],1),n("PopularCities",{staticClass:"pop-cities mx-3"}),n("v-skeleton-loader",{staticClass:"mx-3",attrs:{type:"card",loading:!t.cityNow||t.cityNow.onWeekWeatherLoad,width:"200"}},[n("ForecastDaily",{attrs:{"week-weather":t.cityNow.weekWeather}})],1)],1)},Lt=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"ma-3",attrs:{elevation:"2",shaped:"",width:"280"}},[n("v-card-title",{staticClass:"card-title"},[n("v-col",{staticClass:"pa-0"},[n("div",[t._v(" "+t._s(t.cityNow.name)+" "),t.cityNow.favorite?n("v-btn",{attrs:{color:"orange",icon:""},on:{click:function(e){return t.removeFavorite(t.cityNow)}}},[n("v-icon",[t._v("mdi-star")])],1):n("v-btn",{attrs:{color:"orange",icon:""},on:{click:function(e){return t.addFavorite(t.cityNow)}}},[n("v-icon",[t._v("mdi-star-outline")])],1)],1),n("div",[t._v("Погода сейчас")])])],1),n("v-card-subtitle",{staticClass:"card-title",staticStyle:{color:"white"}},[t._v(t._s(t.timeNow.toLocaleString("ru-RU")))]),n("v-card-text",{staticClass:"temp-section"},[n("v-img",{attrs:{src:t.weather.cloudIcon}},[n("div",{staticClass:"temp-section-div"},[n("div",{staticClass:"mb-5 temp-value"},[n("h1",[t._v(t._s(t.weather.temp)+"°")]),t.weather.tempIcon?n("img",{attrs:{src:t.weather.tempIcon,alt:"temp"}}):t._e(),t.weather.humidityIcon?n("img",{attrs:{src:t.weather.humidityIcon,alt:"temp"}}):t._e()]),n("div",{staticClass:"feels-like"},[n("div",[t._v("Ощущается как: "+t._s(t.weather.feelsLike)+"°")]),n("div",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("span",t._g(t._b({},"span",r,!1),a),[n("v-icon",[t._v("mdi-weather-cloudy")]),t._v(t._s(t.weather.cloudiness)+"% ")],1)]}}])},[n("span",[t._v("Облачность")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("span",t._g(t._b({},"span",r,!1),a),[n("v-icon",[t._v("mdi-weather-windy")]),t._v(t._s(t.weather.windSpeed)+" м/с, "+t._s(t.weather.windDir)+" ")],1)]}}])},[n("span",[t._v("Ветер")])])],1),n("div",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("span",t._g(t._b({},"span",r,!1),a),[n("v-icon",[t._v("mdi-water-percent")]),t._v(t._s(t.weather.humidity)+"% ")],1)]}}])},[n("span",[t._v("Влажность")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("span",t._g(t._b({},"span",r,!1),a),[n("v-icon",[t._v("mdi-speedometer")]),t._v(t._s(t.weather.pressure)+" мм. рт. ст. ")],1)]}}])},[n("span",[t._v("Давление")])])],1)])])])],1)],1)},Wt=[],It={name:"WeatherNow",props:{cityNow:G,weather:mt}},Vt=It,Nt=(n("3c1a"),n("62ad")),Mt=n("adda"),Pt=n("3a2f"),Tt=Object(p["a"])(Vt,St,Wt,!1,null,"ca5b0196",null),Ft=Tt.exports;v()(Tt,{VBtn:g["a"],VCard:I["a"],VCardSubtitle:V["b"],VCardText:V["c"],VCardTitle:V["d"],VCol:Nt["a"],VIcon:y["a"],VImg:Mt["a"],VTooltip:Pt["a"]});var Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"ma-3",attrs:{elevation:"2",shaped:""}},[n("v-card-title",{staticClass:"card-title"},[t._v("Солнечный день")]),n("v-img",{attrs:{src:t.sunday.picture,"max-width":"300"}}),n("v-card-text",{staticClass:"time-block"},[n("div",{staticClass:"time"},[n("div",[t._v("Восход")]),n("div",[t._v(t._s(t.sunday.sunriseTime))])]),n("div",{staticClass:"time"},[n("div",[t._v("Длительность")]),n("div",[t._v(t._s(t.sunday.long))])]),n("div",{staticClass:"time"},[n("div",[t._v("Закат")]),n("div",[t._v(t._s(t.sunday.sunsetTime))])])]),n("v-card-text",{staticClass:"card-body"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"orange",dark:"",icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-weather-sunset-up")])],1)]}}])},[n("span",[t._v("Восход")])]),n("v-progress-linear",{attrs:{color:"orange",stream:"",value:(t.timeNow-t.sunday.sunrise)/(t.sunday.sunset-t.sunday.sunrise)*100,"buffer-value":"0"}}),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"red",dark:"",icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-weather-sunset-down")])],1)]}}])},[n("span",[t._v("Закат")])])],1)],1)},At=[],Et={name:"SunDay",props:{sunday:xt}},$t=Et,Kt=(n("8a07"),n("8e36")),zt=Object(p["a"])($t,Ht,At,!1,null,"1c8e7a05",null),Ut=zt.exports;v()(zt,{VBtn:g["a"],VCard:I["a"],VCardText:V["c"],VCardTitle:V["d"],VIcon:y["a"],VImg:Mt["a"],VProgressLinear:Kt["a"],VTooltip:Pt["a"]});var Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container"},[n("h1",[t._v(t._s(t.text?t.text:"Прогноз на ближайшие дни")+":")]),n("div",{staticClass:"weather-container"},t._l(t.weekWeather,(function(e,a){return n("v-card",{key:a,staticClass:"ma-3 weather-card",attrs:{elevation:"2",shaped:""}},[n("v-card-title",{staticClass:"card-title"},[t._v(t._s(e.dayName))]),n("v-card-subtitle",{staticClass:"card-title",staticStyle:{color:"white"}},[t._v(t._s(e.date.toLocaleDateString()))]),n("v-card-text",{staticClass:"temp-section"},[n("v-img",{attrs:{src:e.cloudIcon}},[n("div",{staticClass:"temp-section-div"},[n("div",{staticClass:"mb-5 temp-value"},[n("h1",[t._v(t._s(e.temp)+"°")]),e.tempIcon?n("img",{attrs:{src:e.tempIcon,alt:"temp"}}):t._e()]),n("div",{staticClass:"feels-like"},[n("div",[t._v("Ощущается как: "+t._s(e.feelsLike)+"°")]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("div",t._g(t._b({},"div",i,!1),r),[n("v-icon",[t._v("mdi-weather-cloudy")]),t._v(t._s(e.cloudiness)+"% ")],1)]}}],null,!0)},[n("span",[t._v("Облачность")])])],1)])])],1)],1)})),1)])},Gt=[],Zt={name:"ForecastDaily",props:{weekWeather:Array,text:String}},Qt=Zt,qt=(n("3b9f"),Object(p["a"])(Qt,Jt,Gt,!1,null,"0c290ba0",null)),Xt=qt.exports;v()(qt,{VCard:I["a"],VCardSubtitle:V["b"],VCardText:V["c"],VCardTitle:V["d"],VIcon:y["a"],VImg:Mt["a"],VTooltip:Pt["a"]});var Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-skeleton-loader",{attrs:{type:"card",loading:t.topCitiesOnLoad,width:"300"}},[n("v-card",{staticClass:"ma-3 card-container",attrs:{elevation:"2",shaped:""}},[n("v-card-title",{staticClass:"card-title"},[n("v-icon",{attrs:{color:"red"}},[t._v("mdi-fire")]),t._v("Популярные города:")],1),n("CitiesList",{attrs:{cities:t.cities,"max-height":"300px",positions:"",population:""}}),n("v-card-text",{staticClass:"card-title"})],1)],1)},te=[],ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{style:{"max-height":t.maxHeight||"unset",overflow:"auto"}},t._l(t.cities,(function(e,a){return n("v-list-item",{key:a,attrs:{link:"",to:t.delBtn?null:{name:"City",params:{id:e.id}}}},[n("v-list-item-content",{on:{click:function(n){return n.stopPropagation(),t.goToCity(e)}}},[n("v-list-item-title",[t.positions?n("span",[t._v(t._s(a+1)+")")]):t._e(),t._v(" "+t._s(e.name)+" "),e.favorite?n("v-icon",{attrs:{color:"orange"}},[t._v("mdi-star")]):t._e()],1),t.population?n("v-list-item-subtitle",[t._v(" Население: "+t._s(e.populationString)+" ")]):t._e(),t.weather&&e.currentWeather?n("v-list-item-subtitle",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-thermometer")]),t._v(t._s(e.currentWeather.temp)+"° | ")],1)]}}],null,!0)},[n("span",[t._v("Температура")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-hand-pointing-right")]),t._v(t._s(e.currentWeather.feelsLike)+"° | ")],1)]}}],null,!0)},[n("span",[t._v("Ощущается как")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-weather-cloudy")]),t._v(t._s(e.currentWeather.cloudiness)+"% | ")],1)]}}],null,!0)},[n("span",[t._v("Облачность")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-water-percent")]),t._v(t._s(e.currentWeather.humidity)+"% | ")],1)]}}],null,!0)},[n("span",[t._v("Влажность")])])],1):t._e(),t.weather&&e.currentWeather?n("v-list-item-subtitle",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-weather-windy")]),t._v(t._s(e.currentWeather.windSpeed)+" м/с, "+t._s(e.currentWeather.windDir)+" | ")],1)]}}],null,!0)},[n("span",[t._v("Ветер")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("span",t._g(t._b({},"span",i,!1),r),[n("v-icon",[t._v("mdi-speedometer")]),t._v(t._s(e.currentWeather.pressure)+" мм. рт. ст. ")],1)]}}],null,!0)},[n("span",[t._v("Давление")])])],1):t._e()],1),t.delBtn?n("v-list-item-action",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(n){return t.removeFavorite(e)}}},"v-btn",i,!1),r),[n("v-icon",{attrs:{color:"red"}},[t._v("mdi-close-circle-outline")])],1)]}}],null,!0)},[n("span",[t._v("Удалить из избранного")])])],1):t._e()],1)})),1)},ne=[],ae={name:"CitiesList",props:{maxHeight:String,cities:Array,positions:Boolean,population:Boolean,weather:Boolean,delBtn:Boolean},methods:{goToCity:function(t){this.delBtn&&this.$router.push({name:"City",params:{id:t.id}})}}},re=ae,ie=n("1800"),oe=Object(p["a"])(re,ee,ne,!1,null,"77cd9cb8",null),se=oe.exports;v()(oe,{VBtn:g["a"],VIcon:y["a"],VList:w["a"],VListItem:b["a"],VListItemAction:ie["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VTooltip:Pt["a"]});var ce={name:"PopularCities",components:{CitiesList:se},data:function(){return{topCitiesOnLoad:!0,cities:[new G]}},methods:{startAction:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.topCitiesOnLoad=!0,n.next=3,(new U).getCountryCodeByCoords(t);case 3:return a=n.sent,n.next=6,(new z).getTopCities(a);case 6:e.cities=n.sent,e.topCitiesOnLoad=!1;case 8:case"end":return n.stop()}}),n)})))()}},watch:{favorites:function(){this.cities.forEach((function(t){t.checkFavorite()}))}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.location&&(0!==t.location.longitude||0!==t.location.latitude)){e.next=4;break}navigator.geolocation.getCurrentPosition(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.startAction(n.coords);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(new J).getCoordsByIp();case 2:return n=e.sent,e.next=5,t.startAction(n);case 5:case"end":return e.stop()}}),e)}))),void 0),e.next=6;break;case 4:return e.next=6,t.startAction(t.location);case 6:case"end":return e.stop()}}),e)})))()}},ue=ce,le=(n("c83c"),n("3129")),de=Object(p["a"])(ue,Yt,te,!1,null,"0c5c42e4",null),pe=de.exports;v()(de,{VCard:I["a"],VCardText:V["c"],VCardTitle:V["d"],VIcon:y["a"],VSkeletonLoader:le["a"]});var he={name:"City",components:{WeatherNow:Ft,SunDay:Ut,ForecastDaily:Xt,PopularCities:pe},data:function(){return{cityNow:new G}},methods:Object(r["a"])(Object(r["a"])({},Object(L["b"])(["loadStartData"])),{},{fetchCity:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$route.params.id&&"0"!==t.$route.params.id){e.next=10;break}if(!t.city||0===t.city.id){e.next=5;break}t.cityNow=t.city,e.next=7;break;case 5:return e.next=7,t.awaitUserCity();case 7:t.$router.push({name:"City",params:{id:String(t.city.id)}}),e.next=16;break;case 10:return e.next=12,(new z).getCityById(t.$route.params.id);case 12:t.cityNow=e.sent,t.cityNow.getCurrentWeather(),t.cityNow.getSunDay(),t.cityNow.getWeekWeather();case 16:case"end":return e.stop()}}),e)})))()}}),watch:{$route:function(){this.fetchCity()}},beforeMount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetchCity();case 1:case"end":return e.stop()}}),e)})))()}},ve=he,me=(n("2db9"),Object(p["a"])(ve,Bt,Lt,!1,null,"8e1d0672",null)),fe=me.exports;v()(me,{VSkeletonLoader:le["a"]});var ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"region-container"},[n("v-skeleton-loader",{attrs:{type:"card",loading:t.onRegionLoad,width:"90%"}},[n("v-card",{staticClass:"ma-3 card-container",attrs:{elevation:"2",shaped:""}},[n("v-card-title",{staticClass:"card-title"},[n("v-select",{staticClass:"mx-4 region-switch",attrs:{label:"Регион",dark:"",items:t.regions,"item-text":"name","item-value":"id"},on:{change:t.onRegionChange},model:{value:t.regionId,callback:function(e){t.regionId=e},expression:"regionId"}})],1),n("v-card-text",{staticClass:"mt-7"},[n("v-row",[n("v-select",{staticClass:"mx-4",attrs:{label:"Записи на странице",items:t.itemsOnPageItems},model:{value:t.itemsOnPage,callback:function(e){t.itemsOnPage=e},expression:"itemsOnPage"}}),n("v-select",{staticClass:"mx-4",attrs:{label:"Сортировать по",items:t.orderByItems,"item-text":"text","item-value":"value"},model:{value:t.orderBy,callback:function(e){t.orderBy=e},expression:"orderBy"}}),n("v-select",{staticClass:"mx-4",attrs:{label:"Порядок",items:t.orderDirItems,"item-text":"text","item-value":"value"},model:{value:t.orderDir,callback:function(e){t.orderDir=e},expression:"orderDir"}}),n("v-btn",{staticClass:"mx-4",attrs:{color:"primary",loading:t.region.onCitiesLoad},on:{click:function(e){return t.region.getCities(t.page=1,t.itemsOnPage,t.orderBy,t.orderDir)}}},[t._v("Поиск")])],1)],1),n("CitiesList",{attrs:{cities:t.region.cities,population:"","max-height":"65vh"}}),n("v-pagination",{attrs:{length:t.region.citiesPages,"total-visible":"15"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),n("v-card-text",{staticClass:"card-title"})],1)],1)],1)},ye=[],we={name:"Region",components:{CitiesList:se},data:function(){return{regionId:0,page:1,onRegionLoad:!0,orderBy:"name",orderDir:"asc",itemsOnPage:20,orderByItems:[{text:"Население",value:"population"},{text:"Название",value:"name"}],orderDirItems:[{text:"По возрастанию",value:"asc"},{text:"По убыванию",value:"desc"}],itemsOnPageItems:[20,50,100]}},watch:{page:function(){this.region.getCities(this.page,this.itemsOnPage,this.orderBy,this.orderDir)}},methods:{onRegionChange:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),e.setRegion(e.regions.find((function(e){return e.id===t}))),e.onRegionLoad=!0,n.next=5,e.awaitUserRegion();case 5:return n.next=7,e.region.getCities(e.page,e.itemsOnPage,e.orderBy,e.orderDir);case 7:e.onRegionLoad=!1;case 8:case"end":return n.stop()}}),n)})))()},awaitUserRegion:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.region&&0!==t.region.id){e.next=5;break}return e.next=3,t.timeout(100);case 3:return e.next=5,t.awaitUserRegion();case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.onRegionLoad=!0,e.next=3,t.awaitUserRegion();case 3:return t.regionId=t.region.id,e.next=6,t.region.getCities(t.page,t.itemsOnPage,t.orderBy,t.orderDir);case 6:t.onRegionLoad=!1;case 7:case"end":return e.stop()}}),e)})))()}},be=we,xe=(n("c4301"),n("891e")),ke=n("0fd9"),_e=n("b974"),Ce=Object(p["a"])(be,ge,ye,!1,null,"50209988",null),Oe=Ce.exports;v()(Ce,{VBtn:g["a"],VCard:I["a"],VCardText:V["c"],VCardTitle:V["d"],VPagination:xe["a"],VRow:ke["a"],VSelect:_e["a"],VSkeletonLoader:le["a"]});var je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"max-width":"700px",margin:"auto"}},[n("h2",{staticClass:"my-4 mx-3"},[t._v("Избранные города")]),n("v-row",{staticClass:"mt-3 mx-3"},[n("v-select",{staticClass:"mx-4",attrs:{label:"Сортировать",items:t.sortItems,"item-text":"text","item-value":"value"},on:{change:t.onChange},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),n("v-select",{staticClass:"mx-4",attrs:{label:"Порядок",items:t.dirItems,"item-text":"text","item-value":"value"},on:{change:t.onChange},model:{value:t.sortDir,callback:function(e){t.sortDir=e},expression:"sortDir"}})],1),0===t.favorites.length?n("h2",{staticClass:"my-4 mx-3 text-center"},[t._v("Здесь пока пусто!")]):t._e(),n("cities-list",{attrs:{cities:t.itemsOnPage,weather:"","del-btn":""}}),n("div",{staticClass:"text-center mx-3"},[t.length>1?n("v-pagination",{attrs:{length:t.length},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)],1)},Re=[],De={name:"Favorites",components:{CitiesList:se},data:function(){return{itemsCount:5,page:1,sortBy:"name",sortDir:"asc",sortItems:[{text:"По названию",value:"name"},{text:"По дате добавления",value:"date"},{text:"По расстоянию",value:"pos"}]}},computed:{dirItems:function(){return"name"===this.sortBy?[{text:"А-Я",value:"asc"},{text:"Я-А",value:"desc"}]:"date"===this.sortBy?[{text:"По возрастанию",value:"asc"},{text:"По убыванию",value:"desc"}]:[{text:"Ближе ко мне",value:"asc"},{text:"Дальше от меня",value:"desc"}]},itemsOnPage:function(){var t=this,e=[];return this.favorites.forEach((function(n,a){a<t.page*t.itemsCount&&a>=(t.page-1)*t.itemsCount&&e.push(n)})),e},length:function(){return Math.ceil(this.favorites.length/this.itemsCount)}},methods:Object(r["a"])(Object(r["a"])({},Object(L["c"])(["sortFavorites"])),{},{onChange:function(){this.sortFavorites({type:this.sortBy,dir:this.sortDir}),this.page=1}}),mounted:function(){this.sortFavorites({type:this.sortBy,dir:this.sortDir})}},Be=De,Le=Object(p["a"])(Be,je,Re,!1,null,"3c320b04",null),Se=Le.exports;v()(Le,{VPagination:xe["a"],VRow:ke["a"],VSelect:_e["a"]});var We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"forecast-container"},[n("v-skeleton-loader",{staticClass:"ma-3",attrs:{type:"card",loading:!t.city||t.city.onWeekWeatherLoad,width:"200"}},[n("ForecastDaily",{attrs:{"week-weather":t.city.weekWeather,text:"Прогноз погоды на 10 дней в "+t.city.name}})],1),t._l(t.loaders,(function(e){return n("v-skeleton-loader",{key:e,staticClass:"ma-3",attrs:{type:"card",loading:!t.city||t.city.onWeekWeatherLoad,width:"200"}})}))],2)},Ie=[],Ve={name:"Weather10Days",components:{ForecastDaily:Xt},data:function(){return{loaders:[]}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=0;n<4;n++)t.loaders.push(n);return e.next=3,t.awaitUserCity();case 3:return e.next=5,t.city.getWeekWeather();case 5:t.loaders=[];case 6:case"end":return e.stop()}}),e)})))()}},Ne=Ve,Me=(n("5b39"),Object(p["a"])(Ne,We,Ie,!1,null,"e643adaa",null)),Pe=Me.exports;v()(Me,{VSkeletonLoader:le["a"]});var Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"forecast-container"},[n("v-skeleton-loader",{staticClass:"mx-3",attrs:{type:"card",loading:!t.city||t.city.onMonthWeatherLoad,width:"200"}},[n("ForecastDaily",{attrs:{"week-weather":t.city.monthWeather,text:"Прогноз погоды на месяц в "+t.city.name}})],1),t._l(t.loaders,(function(e){return n("v-skeleton-loader",{key:e,staticClass:"mx-3",attrs:{type:"card",loading:!t.city||t.city.onWeekWeatherLoad,width:"200"}})}))],2)},Fe=[],He={name:"Month",components:{ForecastDaily:Xt},data:function(){return{loaders:[]}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=0;n<4;n++)t.loaders.push(n);return e.next=3,t.awaitUserCity();case 3:return e.next=5,t.city.getMonthWeather();case 5:t.loaders=[];case 6:case"end":return e.stop()}}),e)})))()}},Ae=He,Ee=(n("0243"),Object(p["a"])(Ae,Te,Fe,!1,null,"2e74266e",null)),$e=Ee.exports;v()(Ee,{VSkeletonLoader:le["a"]}),i["a"].use(Dt["a"]);var Ke=[{path:"/city/:id",name:"City",component:fe},{path:"/region",name:"Region",component:Oe},{path:"/favorites",name:"Favorites",component:Se},{path:"/10days",name:"10Days",component:Pe},{path:"/month",name:"Month",component:$e},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/*",redirect:{name:"City",params:{id:0}}}],ze=new Dt["a"]({mode:"history",base:"/vue-weather/",routes:Ke}),Ue=ze;n("c740"),n("caad"),n("a434"),n("2532");i["a"].use(L["a"]);var Je=new L["a"].Store({state:{location:new gt,region:new yt,city:new G,regions:[new yt],timeNow:new Date,favorites:[],modal:{show:!1,text:""}},getters:{},mutations:{setLocation:function(t,e){t.location=e},setRegion:function(t,e){t.region=e},setCity:function(t,e){t.city=e},setRegions:function(t,e){t.regions=e},setTime:function(t){t.timeNow=new Date},getFavorites:function(t){var e=JSON.parse(localStorage.getItem("favorites"))||[],n=new z;t.favorites=[],e.forEach((function(e){n.getCityById(e.id).then((function(e){e.getCurrentWeather(),t.favorites.push(e)}))}))},addFavorite:function(t,e){var n=JSON.parse(localStorage.getItem("favorites"))||[];n.push({id:e.id,date:new Date}),localStorage.setItem("favorites",JSON.stringify(n)),t.favorites.push(e),e.favorite=!0,t.modal.text="".concat(e.name," был добавлен в избранное."),t.modal.show=!0},removeFavorite:function(t,e){var n=JSON.parse(localStorage.getItem("favorites"))||[];n.splice(n.findIndex((function(t){return t.id===e.id})),1),localStorage.setItem("favorites",JSON.stringify(n)),t.favorites.splice(t.favorites.findIndex((function(t){return t.id===e.id})),1),e.favorite=!1,t.modal.text="".concat(e.name," был удален из избранного."),t.modal.show=!0},sortFavorites:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"name",dir:"asc"},n=1-2*("desc"===e.dir);switch(e.type){case"name":t.favorites.sort((function(t,e){return t.name<e.name?-n:t.name>e.name?n:0}));break;case"date":t.favorites.sort((function(t,e){return t.favoriteDate>e.favoriteDate?-n:t.favoriteDate<e.favoriteDate?n:0}));break;case"pos":t.favorites.sort((function(e,a){var r=e.location.getDistance(t.location),i=a.location.getDistance(t.location);return r<i?-n:r>i?n:0}));break}},showModal:function(t,e){t.modal.text=e,t.modal.show=!0},closeModal:function(t){t.modal.show=!1}},actions:{setTimeInterval:function(t){var e=t.commit;setInterval((function(){e("setTime")}),1e3)},checkFavorite:function(t,e){return!!t.favorites&&t.favorites.includes((function(t){return t.id===e.id}))},getRegions:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.t0=n,e.next=4,(new z).getRegions();case 4:e.t1=e.sent,(0,e.t0)("setRegions",e.t1);case 6:case"end":return e.stop()}}),e)})))()},loadStartData:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.state,r=t.commit,i=new z,n.next=4,(new U).getCityByCoords(e);case 4:return o=n.sent,n.next=7,i.getCityByName(o);case 7:return s=n.sent,n.next=10,i.getRegionById(s.region.id);case 10:c=n.sent,s.region=c,s.location=e,r("setLocation",new gt(e)),r("setCity",s),r("setRegion",c),a.city.getCurrentWeather(),a.city.getSunDay(),a.city.getWeekWeather();case 19:case"end":return n.stop()}}),n)})))()}},modules:{}}),Ge=n("f309");i["a"].use(Ge["a"]);var Ze=new Ge["a"]({theme:{options:{customProperties:!0}}}),Qe=n("2106"),qe=n.n(Qe);i["a"].use(qe.a,$.a),i["a"].config.productionTip=!1,i["a"].mixin({computed:Object(r["a"])({},Object(L["d"])(["location","city","region","regions","timeNow","favorites"])),methods:Object(r["a"])(Object(r["a"])({},Object(L["c"])(["setLocation","setCity","setRegion","getFavorites","addFavorite","removeFavorite"])),{},{timeout:function(t){return new Promise((function(e){return setTimeout(e,t)}))},awaitUserCity:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.city&&0!==t.city.id){e.next=5;break}return e.next=3,t.timeout(100);case 3:return e.next=5,t.awaitUserCity();case 5:case"end":return e.stop()}}),e)})))()}})}),new i["a"]({router:Ue,store:Je,axios:$.a,vuetify:Ze,render:function(t){return t(Rt)}}).$mount("#app")},"5b39":function(t,e,n){"use strict";n("748d")},"748d":function(t,e,n){},"7f9d":function(t,e,n){},"8a07":function(t,e,n){"use strict";n("9e54")},9266:function(t,e,n){t.exports=n.p+"img/Cloudy.45da34d8.svg"},"9e54":function(t,e,n){},a94e:function(t,e,n){t.exports=n.p+"img/CloudyWithSun.187a0c35.svg"},b2ca:function(t,e,n){t.exports=n.p+"img/Wet.41476e5b.svg"},b68e:function(t,e,n){t.exports=n.p+"img/Sunny.b9c5458e.svg"},c4301:function(t,e,n){"use strict";n("7f9d")},c83c:function(t,e,n){"use strict";n("3c3f")},ebdf:function(t,e,n){t.exports=n.p+"img/sunset.510606e2.jpg"},ee72:function(t,e,n){t.exports=n.p+"img/Moon.7c42455d.svg"}});
//# sourceMappingURL=app.b1082973.js.map